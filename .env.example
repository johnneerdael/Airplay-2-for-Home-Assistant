# AirPlay 2 Configuration for Docker Compose
# Copy this file to .env and modify the values as needed

# ========================================
# Basic AirPlay Configuration
# ========================================

# Name that will appear in AirPlay device lists on your Apple devices
AIRPLAY_NAME=Home Assistant

# Audio sync offset in seconds (positive = delay audio, negative = advance audio)
# Useful if you notice audio/lip sync issues
AUDIO_BACKEND_LATENCY_OFFSET=0.0

# Audio interpolation method
# Options: auto, basic, none
# auto = automatic detection (recommended)
# basic = basic interpolation
# none = no interpolation
INTERPOLATION=auto

# Audio backend to use
# Options: pa (PulseAudio), alsa
# pa = recommended for most systems, easier setup
# alsa = lower latency, more complex setup
OUTPUT_BACKEND=pa

# Default AirPlay volume in decibels
# Range typically -60.0 to 0.0 (loudest)
DEFAULT_AIRPLAY_VOLUME=-24.0

# ========================================
# MQTT Configuration (Optional)
# ========================================

# Enable MQTT telemetry and control
# Options: yes, no
MQTT_ENABLED=no

# MQTT broker hostname
# For Home Assistant: use your MQTT add-on hostname
MQTT_HOST=core-mosquitto

# MQTT authentication credentials
MQTT_USERNAME=user
MQTT_PASSWORD=password

# Publish album art via MQTT (may use significant bandwidth)
# Options: yes, no
MQTT_PUBLISH_COVER=no

# ========================================
# Advanced Audio Configuration (Optional)
# ========================================

# Uncomment and modify these values if needed for your specific setup

# Maximum volume output in decibels
# VOLUME_MAX_DB=0.0

# Audio output format
# Options: S16, S24, S32, F32
# OUTPUT_FORMAT=S16

# Audio output sample rate in Hz
# Common values: 44100, 48000, 96000
# OUTPUT_RATE=44100

# Enable precision timing for lower latency
# Options: yes, no
# USE_PRECISION_TIMING=yes

# Disable standby mode (keeps service active when not in use)
# Options: yes, no
# DISABLE_STANDBY_MODE=no

# High threshold volume in decibels
# When volume goes above this, use hardware volume control
# HIGH_THRESHOLD_AIRPLAY_VOLUME=-10.0

# ALSA mixer control settings (only for ALSA backend)
# MIXER_CONTROL_NAME=Master
# MIXER_CONTROL_INDEX=0

# Volume control priority
# Options: hardware, software, combined_hardware_priority
# VOLUME_CONTROL_COMBINED_HARDWARE_PRIORITY=hardware

# Timing and synchronization settings
# DRIFT_TOLERANCE_IN_SECONDS=0.002
# RESYNC_THRESHOLD_IN_SECONDS=0.05
# RESYNC_RECOVERY_TIME_IN_SECONDS=0.1
# AUDIO_BACKEND_BUFFER_DESIRED_LENGTH_IN_SECONDS=0.15

# ========================================
# Docker Image Configuration
# ========================================

# Choose the appropriate image for your architecture:
# For AMD64/Intel: johannvr/ha-airplay2-amd64-debian
# For ARM64: johannvr/ha-airplay2-aarch64-debian
# For ARMv7: johannvr/ha-airplay2-armv7-debian
# For i386: johannvr/ha-airplay2-i386-debian
# For ARMHF: johannvr/ha-airplay2-armhf-debian

# You can override the image in docker-compose.yml or use a specific tag:
# DOCKER_IMAGE=johannvr/ha-airplay2-amd64-debian:latest
# DOCKER_IMAGE_TAG=latest